<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Wedding Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins&family=Playfair+Display&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
body{font-family:Poppins;background:#f4f4f4;padding:30px}
.card{background:#fff;max-width:900px;margin:auto;padding:30px;border-radius:16px}
input,textarea,select{width:100%;margin:10px 0;padding:10px}
button{padding:12px 30px;background:#c9a24d;border:none;color:#fff;border-radius:30px}
</style>
</head>
<body>

<h2>Admin Undangan</h2>

<input id="groom" placeholder="Nama Mempelai Pria"><br><br>
<input id="bride" placeholder="Nama Mempelai Wanita"><br><br>
<input id="date" placeholder="Tanggal Pernikahan"><br><br>
<input id="place" placeholder="Tempat"><br><br>

<button onclick="saveData()">Simpan</button>
<script>
function saveData() {
  db.collection("settings").doc("main").set({
    groom: document.getElementById("groom").value,
    bride: document.getElementById("bride").value,
    date: document.getElementById("date").value,
    place: document.getElementById("place").value
  })
  .then(() => {
    alert("Data tersimpan!");
  })
  .catch(err => {
    alert(err.message);
  });
}
</script>


<div class="card">
<h1>Admin Panel</h1>

<label>Nama Mempelai</label>
<input id="couple">

<label>Tanggal</label>
<input id="date">

<label>Nama Tamu Default</label>
<input id="guestName">

<label>Ayat Alkitab</label>
<textarea id="verse"></textarea>

<label>Sumber Ayat</label>
<input id="verseSource">

<label>Detail Acara</label>
<textarea id="event"></textarea>

<label>Tempat & Alamat</label>
<textarea id="location"></textarea>

<label>Font</label>
<select id="font">
<option value="">Default</option>
<option value="Poppins">Poppins</option>
<option value="Playfair Display">Playfair Display</option>
<option value="Great Vibes">Great Vibes</option>
</select>

<label>Background Color</label>
<input type="color" id="bgColor">

<label>Background Image</label>
<input type="file" id="bgImage">

<label>Gallery Photos</label>
<input type="file" id="photos" multiple>

<label>Background Music</label>
<input type="file" id="music" accept="audio/*">

<button onclick="save()">Simpan</button>
</div>

<script>
const data = JSON.parse(localStorage.getItem("weddingData")) || {photos:[]};

function save(){
data.couple=couple.value;
data.date=date.value;
data.guestName=guestName.value;
data.verse=verse.value;
data.verseSource=verseSource.value;
data.event=event.value;
data.location=location.value;
data.bgColor=bgColor.value;

if(font.value){
data.font=font.value;
data.fontLink=`https://fonts.googleapis.com/css2?family=${font.value.replace(" ","+")}&display=swap`;
}

if(bgImage.files[0]){
const r=new FileReader();
r.onload=()=>{data.bgImage=r.result;store()};
r.readAsDataURL(bgImage.files[0]);
}

if(music.files[0]){
const r=new FileReader();
r.onload=()=>{data.music=r.result;store()};
r.readAsDataURL(music.files[0]);
}

[...photos.files].forEach(f=>{
const r=new FileReader();
r.onload=()=>{data.photos.push(r.result);store()};
r.readAsDataURL(f);
});

store();
}

function store(){
localStorage.setItem("weddingData",JSON.stringify(data));
alert("Tersimpan");
}
</script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "PASTE_DARI_FIREBASE",
    authDomain: "PASTE_DARI_FIREBASE",
    projectId: "PASTE_DARI_FIREBASE",
    storageBucket: "PASTE_DARI_FIREBASE",
    messagingSenderId: "PASTE_DARI_FIREBASE",
    appId: "PASTE_DARI_FIREBASE"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>

  <script>
function saveData() {
  alert("Button diklik"); // DEBUG
}
</script>

</body>
</html>


